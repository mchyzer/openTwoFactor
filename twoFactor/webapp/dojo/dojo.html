<html>

  <head>

    <link href="../assets/dojo/dijit/themes/soria/soria.css" rel="stylesheet" type="text/css" />
    <link href="../assets/dojo/dijit/themes/claro/claro.css" rel="stylesheet" type="text/css" />
    <link href="../assets/dojo/dojo/resources/dojo.css" rel="stylesheet" type="text/css" />
    
    <script type="text/javascript" src="../assets/jquery.js"></script>
    <script type="text/javascript" src="../assets/dojo/dojo/dojo.js.uncompressed.js" djConfig="parseOnLoad: true" ></script>
    
    <script type="text/javascript" >
        dojo.require("dojo/ready");
        dojo.require("dojo/parser");
        dojo.require("dijit/form/FilteringSelect");
        dojo.require("dojox/data/QueryReadStore");
        dojo.require("dojo/dom-attr");

    </script>
    
  </head>

  <body>
    
    <div style="padding: 10px">
    
      <div data-dojo-type="dojox.data.QueryReadStore" id="personPickerStoreId" formElementNamesToSend="anotherItemName"
        data-dojo-props="url:'../twoFactorUi/app/UiMain.personPicker'" data-dojo-id="personPickerStoreDojoId" style="display: inline"></div>
      <form method="get" action="dojo.html" id="theForm" >
      <!-- value="id2" displayedValue"hello" -->
      <br /><br />
      <span style="font-size: 0.9em">Enter search text to find a person:</span><br />
        <input id="personPickerId" name="personPickerName"  searchDelay="500" value="10021368"
          data-dojo-props="store:personPickerStoreDojoId" class="claro" style="width: 40em"
          autoComplete="false" data-dojo-type="dijit/form/FilteringSelect" hasDownArrow="false" /><!-- 
           -18 for no down arrow, -36 for down arrow --><img 
          style="position: relative; top: 5px; left: -18px; display: none; " alt="busy..."  id="personPickerThrobberId"
          src="../assets/busy.gif" class="comboThrobber" />
  <script>
  //dijit.byId('personPickerId').set('value', "1");
  //dijit.byId('personPickerId').set('displayedValue', "12");
  dojo.ready(function(){
    dijit.byId('personPickerId').onChange = function(evt) {
      this.focusNode.setSelectionRange(0,0);
    }
  });
  </script>
  <br /><br />
  <input name="anotherItemName" id="anotherItemId" type="text" />
        <br /><br /><br />
  
      <p>
      <!-- 
        <button onclick="alert(dijit.byId('personPickerId').get('value'))">Get value</button>
        <button onclick="alert(dijit.byId('personPickerId').get('displayedValue'))">Get displayed value</button>  -->
        <input type="submit"></button>
      </p>
      </form>
    </div>
  </body>
</html>
